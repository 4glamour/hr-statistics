"use strict";(self.webpackChunkhr_statistics=self.webpackChunkhr_statistics||[]).push([[406],{3406:function(e,n,t){t.r(n),t.d(n,{default:function(){return Ze}});var r,a,c,i,s,o,l,u,d,p,x,f,h,Z,v,g,j,y,m=t(1413),b=t(3433),w=t(4165),k=t(5861),S=t(9439),C=t(2791),R=t(168),z=t(225),A=z.Z.section(r||(r=(0,R.Z)(["\n  padding: 30px 0;\n\n  border-bottom: 1px solid #e6e6fa;\n"]))),B=z.Z.h2(a||(a=(0,R.Z)(["\n  margin-bottom: 10px;\n\n  text-align: center;\n  font-size: 20px;\n"]))),T=t(184),_=function(e){var n=e.children,t=e.title;return(0,T.jsxs)(A,{children:[t&&(0,T.jsx)(B,{children:t}),n]})},I=z.Z.form(c||(c=(0,R.Z)(["\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n"]))),D=(z.Z.input(i||(i=(0,R.Z)(["\n  width: 150px;\n  padding: 7px;\n\n  border: 1px solid gray;\n  border-radius: 10px;\n"]))),z.Z.select(s||(s=(0,R.Z)(["\n  width: 130px;\n  padding: 7px;\n\n  border: 1px solid gray;\n  border-radius: 10px;\n\n  cursor: pointer;\n"]))),t(6151)),F=t(4925),W=t(9891),H=t(8096),Q=t(7198),E=t(7391),J=function(e){var n=e.addCategory,t=(0,C.useState)("messages"),r=(0,S.Z)(t,2),a=r[0],c=r[1],i=(0,C.useState)(""),s=(0,S.Z)(i,2),o=s[0],l=s[1],u=(0,C.useState)(""),d=(0,S.Z)(u,2),p=d[0],x=d[1];return(0,T.jsx)(_,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435",children:(0,T.jsxs)(I,{children:[(0,T.jsxs)(H.Z,{sx:{minWidth:150},size:"small",children:[(0,T.jsx)(F.Z,{id:"category-type",children:"Type"}),(0,T.jsxs)(Q.Z,{labelId:"category-type",id:"category-type",value:a,label:"Type",onChange:function(e){return c(e.target.value)},children:[(0,T.jsx)(W.Z,{value:"messages",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"}),(0,T.jsx)(W.Z,{value:"calls",children:"\u0417\u0432\u043e\u043d\u043a\u0438"})]})]}),(0,T.jsx)(E.Z,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",value:o,onChange:function(e){l(e.target.value)},required:!0,size:"small"}),(0,T.jsx)(E.Z,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",variant:"outlined",value:p,onChange:function(e){x(e.target.value)},size:"small"}),(0,T.jsx)(D.Z,{variant:"contained",size:"small",onClick:function(e){e.preventDefault(),o&&n({type:a,name:o,phone:p||"No phone number"})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})},K=z.Z.div(o||(o=(0,R.Z)(["\n  padding: 0 30px;\n"]))),L=function(e){var n=e.children;return(0,T.jsx)(K,{children:n})},N=t(1240),P=z.Z.button(l||(l=(0,R.Z)(["\n  width: 100px;\n  height: 100px;\n\n  border-radius: 50%;\n\n  box-shadow: 0px 2px 7px 0px rgba(0, 0, 0, 0.75);\n  -webkit-box-shadow: 0px 2px 7px 0px rgba(0, 0, 0, 0.75);\n  -moz-box-shadow: 0px 2px 7px 0px rgba(0, 0, 0, 0.75);\n\n  background-color: #ffebcd;\n\n  transform: scale(1);\n  transition: transform 100ms ease-out, background-color 100ms ease-out;\n\n  &:hover,\n  &:focus {\n    background-color: #ffe4c4;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    background-color: #deb887;\n    color: #fff;\n  }\n\n  &:disabled {\n    opacity: 0.7;\n    transform: scale(1);\n    background-color: #ffebcd;\n\n    cursor: not-allowed;\n  }\n"]))),q=z.Z.p(u||(u=(0,R.Z)(["\n  font-weight: 700;\n  font-size: 22px;\n"]))),M=z.Z.p(d||(d=(0,R.Z)(["\n  font-size: 14px;\n"]))),U=z.Z.p(p||(p=(0,R.Z)(["\n  font-size: 12px;\n"]))),G=z.Z.div(x||(x=(0,R.Z)(["\n  display: flex;\n"]))),O=z.Z.div(f||(f=(0,R.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  gap: 5px;\n"]))),V=function(e){var n=e.info,t=e.addRecord,r=e.currentActionTotal,a=e.filter,c=e.updateBtnActiveStatus;return(0,T.jsxs)(O,{children:[(0,T.jsxs)(P,{type:"button",onClick:function(){var e=n._id;t({category:e})},disabled:!n.active,children:[(0,T.jsx)(q,{children:r}),(0,T.jsx)(M,{children:n.name})]}),(0,T.jsx)(U,{children:n.phone}),(0,T.jsx)(G,{children:"active"===a?(0,T.jsx)(D.Z,{variant:"outlined",onClick:function(){var e=n._id;(0,N.It)(e,{active:!1}),c(e,{active:!1})},size:"small",children:"Hide"}):(0,T.jsx)(D.Z,{variant:"outlined",onClick:function(){var e=n._id;(0,N.It)(e,{active:!0}),c(e,{active:!0})},size:"small",children:"Show"})})]})},X=z.Z.div(h||(h=(0,R.Z)(["\n  display: flex;\n  gap: 10px;\n  justify-content: space-between;\n"]))),Y=z.Z.div(Z||(Z=(0,R.Z)(["\n  text-align: center;\n  font-weight: 600;\n"]))),$=z.Z.span(v||(v=(0,R.Z)(["\n  color: #32cd32;\n  font-size: 18px;\n  font-weight: 700;\n"]))),ee=z.Z.div(g||(g=(0,R.Z)(["\n  padding-right: 100px;\n  display: flex;\n  gap: 20px;\n  flex-wrap: wrap;\n"]))),ne=function(e){var n=e.callsBtns,t=e.addRecord,r=e.callsRecords,a=e.updateBtnActiveStatus,c=(0,C.useState)("active"),i=(0,S.Z)(c,2),s=i[0],o=i[1],l=n.filter((function(e){return"active"===s?e.active:!e.active}));return(0,T.jsxs)(_,{children:[(0,T.jsxs)(X,{children:[(0,T.jsxs)(Y,{children:["\u0417\u0432\u043e\u043d\u043a\u0438 \u0432\u0441\u0435\u0433\u043e: ",(0,T.jsx)($,{children:r.length})]}),(0,T.jsxs)(H.Z,{sx:{minWidth:100},size:"small",children:[(0,T.jsx)(F.Z,{id:"category-type",children:"Type"}),(0,T.jsxs)(Q.Z,{labelId:"category-type",id:"category-type",value:s,label:"Type",onChange:function(e){return o(e.target.value)},children:[(0,T.jsx)(W.Z,{value:"active",children:"Active"}),(0,T.jsx)(W.Z,{value:"hidden",children:"Hidden"})]})]})]}),(0,T.jsx)(ee,{children:l.map((function(e){var n=r.filter((function(n){return n.category.name===e.name})).length;return(0,T.jsx)(V,{info:e,addRecord:t,currentActionTotal:n,filter:s,updateBtnActiveStatus:a},e._id)}))})]})},te=z.Z.div(j||(j=(0,R.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),re=z.Z.div(y||(y=(0,R.Z)(["\n  margin-bottom: 10px;\n\n  display: flex;\n  justify-content: center;\n"]))),ae=t(9836),ce=t(3382),ie=t(3994),se=t(9281),oe=t(6890),le=t(5855),ue=t(5527),de=t(3400),pe=t(7247),xe=t(8258),fe=function(e){var n=e.actionRecords,t=e.deleteRecord,r=e.setActionRecords,a=(0,C.useState)((function(){return new Date})),c=(0,S.Z)(a,2),i=c[0],s=c[1],o=(0,b.Z)(n).reverse();(0,C.useEffect)((function(){(0,k.Z)((0,w.Z)().mark((function e(){var n;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,N.Q6)(i);case 3:n=e.sent,r(n.data.result),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[i,r]);return(0,T.jsxs)(_,{title:"Timeline",children:[(0,T.jsx)(re,{children:(0,T.jsx)(xe.M,{value:i,onChange:function(e){s(e)}})}),(0,T.jsx)(te,{children:(0,T.jsx)(se.Z,{component:ue.Z,sx:{maxWidth:650},children:(0,T.jsxs)(ae.Z,{"aria-label":"simple table",children:[(0,T.jsx)(oe.Z,{children:(0,T.jsxs)(le.Z,{sx:{bgcolor:"#4682B4"},children:[(0,T.jsx)(ie.Z,{children:"Name"}),(0,T.jsx)(ie.Z,{children:"Type"}),(0,T.jsx)(ie.Z,{sx:{width:200},children:"Date"}),(0,T.jsx)(ie.Z,{sx:{width:80},children:"Delete"})]})}),(0,T.jsx)(ce.Z,{children:o.map((function(e){var n=new Date(e.createdAt);return(0,T.jsxs)(le.Z,{sx:{"&:last-child td, &:last-child th":{border:0},"&:nth-of-type(even)":{bgcolor:"#F0F8FF"}},children:[(0,T.jsx)(ie.Z,{children:e.category.name}),(0,T.jsx)(ie.Z,{children:e.category.type}),(0,T.jsx)(ie.Z,{children:n.toLocaleString()}),(0,T.jsx)(ie.Z,{children:(0,T.jsx)(de.Z,{"aria-label":"delete",onClick:function(){return t(e._id)},sx:{color:"#F08080"},children:(0,T.jsx)(pe.Z,{})})})]},e._id)}))})]})})})]})},he=function(e){var n=e.messagesBtns,t=e.addRecord,r=e.messagesRecords,a=e.updateBtnActiveStatus,c=(0,C.useState)("active"),i=(0,S.Z)(c,2),s=i[0],o=i[1],l=n.filter((function(e){return"active"===s?e.active:!e.active}));return(0,T.jsxs)(_,{children:[(0,T.jsxs)(X,{children:[(0,T.jsxs)(Y,{children:["C\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0433\u043e: ",(0,T.jsx)($,{children:r.length})]}),(0,T.jsxs)(H.Z,{sx:{minWidth:100},size:"small",children:[(0,T.jsx)(F.Z,{id:"category-type",children:"Type"}),(0,T.jsxs)(Q.Z,{labelId:"category-type",id:"category-type",value:s,label:"Type",onChange:function(e){return o(e.target.value)},children:[(0,T.jsx)(W.Z,{value:"active",children:"Active"}),(0,T.jsx)(W.Z,{value:"hidden",children:"Hidden"})]})]})]}),(0,T.jsx)(ee,{children:l.map((function(e){var n=r.filter((function(n){return n.category.name===e.name})).length;return(0,T.jsx)(V,{info:e,addRecord:t,currentActionTotal:n,filter:s,updateBtnActiveStatus:a},e._id)}))})]})};function Ze(){var e=(0,C.useState)([]),n=(0,S.Z)(e,2),t=n[0],r=n[1],a=(0,C.useState)([]),c=(0,S.Z)(a,2),i=c[0],s=c[1];(0,C.useEffect)((function(){(0,k.Z)((0,w.Z)().mark((function e(){var n,t;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,N.CP)();case 3:return n=e.sent,r(n.data.result),e.next=7,(0,N.Q6)();case 7:t=e.sent,s(t.data.result),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})))()}),[]);var o=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var t;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,N.i8)(n);case 3:t=e.sent,r((function(e){return[].concat((0,b.Z)(e),[t.data.result])})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),l=t.filter((function(e){return"calls"===e.type})),u=t.filter((function(e){return"messages"===e.type})),d=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){var t;return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,N.xK)(n);case 3:t=e.sent,s((function(e){return[].concat((0,b.Z)(e),[t.data.result])})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(n){return e.apply(this,arguments)}}(),p=i.filter((function(e){return"calls"===e.category.type})),x=i.filter((function(e){return"messages"===e.category.type})),f=function(){var e=(0,k.Z)((0,w.Z)().mark((function e(n){return(0,w.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,(0,N.JS)(n);case 3:s((function(e){return e.filter((function(e){return e._id!==n}))})),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(n){return e.apply(this,arguments)}}(),h=function(e,n){r((function(t){return t.map((function(t){return t._id===e?(0,m.Z)((0,m.Z)({},t),n):t}))}))};return(0,T.jsxs)(L,{children:[(0,T.jsx)(J,{addCategory:o}),(0,T.jsx)(ne,{callsBtns:l,addRecord:d,callsRecords:p,updateBtnActiveStatus:h}),(0,T.jsx)(he,{messagesBtns:u,addRecord:d,messagesRecords:x,updateBtnActiveStatus:h}),(0,T.jsx)(fe,{actionRecords:i,deleteRecord:f,setActionRecords:s})]})}},1240:function(e,n,t){t.d(n,{CP:function(){return i},It:function(){return o},JS:function(){return d},Q6:function(){return l},i8:function(){return s},vz:function(){return p},xK:function(){return u}});var r=t(4165),a=t(5861),c=t(1243);c.Z.defaults.baseURL="https://hr-statistics-ja95.onrender.com";var i=function(){return c.Z.get("/api/categories")},s=function(e){return c.Z.post("/api/categories",e)},o=function(e,n){return c.Z.patch("/api/categories/".concat(e),n)},l=function(e){return c.Z.get("/api/records".concat(e?"?date=".concat(e):""))},u=function(e){return c.Z.post("/api/records",e)},d=function(e){return c.Z.delete("/api/records/".concat(e))},p=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.post("/api/users/login",n);case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}}]);
//# sourceMappingURL=406.81493a33.chunk.js.map