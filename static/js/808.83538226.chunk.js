"use strict";(self.webpackChunkhr_statistics=self.webpackChunkhr_statistics||[]).push([[808],{2092:function(n,e,t){t.d(e,{p:function(){return s}});var r,a=t(168),c=t(225).Z.div(r||(r=(0,a.Z)(["\n  min-height: 100vh;\n  padding-top: 80px;\n\n  background: linear-gradient(to right, rgba(23, 34, 152, 0.1), rgba(23, 34, 152, 0.1)),\n    url(",");\n\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n"])),(function(n){return n.photo})),i=t(184),s=function(n){var e=n.children,t=n.photo;return(0,i.jsx)(c,{photo:t,children:e})}},4808:function(n,e,t){t.r(e),t.d(e,{default:function(){return jn}});var r,a,c,i,s,o,l,d,u,p,x,h,f,g,v,Z,j,b,m,y=t(1413),w=t(3433),k=t(4165),S=t(5861),C=t(9439),R=t(2791),z=t(168),A=t(225),B=A.Z.section(r||(r=(0,z.Z)(["\n  padding: 12px 0;\n\n  border-bottom: 1px solid #e6e6fa;\n"]))),T=A.Z.h2(a||(a=(0,z.Z)(["\n  text-align: center;\n  font-size: 20px;\n\n  margin: 0 auto 10px;\n  display: flex;\n  width: max-content;\n  background-color: rgba(255, 248, 220, 0.4);\n  padding: 5px;\n  border-radius: 5px;\n"]))),_=t(184),D=function(n){var e=n.children,t=n.title;return(0,_.jsxs)(B,{children:[t&&(0,_.jsx)(T,{children:t}),e]})},F=A.Z.div(c||(c=(0,z.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),W=A.Z.form(i||(i=(0,z.Z)(["\n  width: max-content;\n\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n\n  background-color: rgba(255, 248, 220, 0.7);\n  padding: 10px;\n  border-radius: 5px;\n"]))),I=(A.Z.input(s||(s=(0,z.Z)(["\n  width: 150px;\n  padding: 7px;\n\n  border: 1px solid gray;\n  border-radius: 10px;\n"]))),A.Z.select(o||(o=(0,z.Z)(["\n  width: 130px;\n  padding: 7px;\n\n  border: 1px solid gray;\n  border-radius: 10px;\n\n  cursor: pointer;\n"]))),t(6151)),L=t(4925),E=t(9891),H=t(8096),N=t(7198),Q=t(7391),q=function(n){var e=n.addCategory,t=(0,R.useState)("messages"),r=(0,C.Z)(t,2),a=r[0],c=r[1],i=(0,R.useState)(""),s=(0,C.Z)(i,2),o=s[0],l=s[1],d=(0,R.useState)(""),u=(0,C.Z)(d,2),p=u[0],x=u[1];return(0,_.jsx)(D,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435",children:(0,_.jsx)(F,{children:(0,_.jsxs)(W,{children:[(0,_.jsxs)(H.Z,{sx:{minWidth:150},size:"small",children:[(0,_.jsx)(L.Z,{id:"category-type",children:"Type"}),(0,_.jsxs)(N.Z,{labelId:"category-type",id:"category-type",value:a,label:"Type",onChange:function(n){return c(n.target.value)},children:[(0,_.jsx)(E.Z,{value:"messages",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"}),(0,_.jsx)(E.Z,{value:"calls",children:"\u0417\u0432\u043e\u043d\u043a\u0438"})]})]}),(0,_.jsx)(Q.Z,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",value:o,onChange:function(n){l(n.target.value)},required:!0,size:"small"}),(0,_.jsx)(Q.Z,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",variant:"outlined",value:p,onChange:function(n){x(n.target.value)},size:"small"}),(0,_.jsx)(I.Z,{variant:"contained",size:"small",onClick:function(n){n.preventDefault(),o&&e({type:a,name:o,phone:p||"No phone number"})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})})},J=t(5834),K=t(5600),M=A.Z.button(l||(l=(0,z.Z)(["\n  width: 100px;\n  height: 100px;\n\n  border-radius: 50%;\n\n  box-shadow: 0px 2px 7px 0px rgba(0, 0, 0, 0.75);\n  -webkit-box-shadow: 0px 2px 7px 0px rgba(0, 0, 0, 0.75);\n  -moz-box-shadow: 0px 2px 7px 0px rgba(0, 0, 0, 0.75);\n\n  background-color: rgba(255, 248, 220, 0.9);\n\n  transform: scale(1);\n  transition: transform 100ms ease-out, background-color 100ms ease-out;\n\n  &:hover,\n  &:focus {\n    background-color: #ffe4c4;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    background-color: #deb887;\n    color: #fff;\n  }\n\n  &:disabled {\n    opacity: 0.7;\n    transform: scale(1);\n    background-color: #ffebcd;\n\n    cursor: not-allowed;\n  }\n"]))),P=A.Z.p(d||(d=(0,z.Z)(["\n  font-weight: 700;\n  font-size: 22px;\n"]))),G=A.Z.p(u||(u=(0,z.Z)(["\n  font-size: 14px;\n"]))),O=(A.Z.p(p||(p=(0,z.Z)(["\n  font-size: 12px;\n"]))),A.Z.div(x||(x=(0,z.Z)(["\n  display: flex;\n"])))),U=A.Z.div(h||(h=(0,z.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  gap: 12px;\n"]))),V=function(n){var e=n.info,t=n.addRecord,r=n.currentActionTotal,a=n.filter,c=n.updateBtnActiveStatus;return(0,_.jsxs)(U,{children:[(0,_.jsxs)(M,{type:"button",onClick:function(){var n=e._id;t({category:n})},disabled:!e.active,children:[(0,_.jsx)(P,{children:r}),(0,_.jsx)(G,{children:e.name})]}),(0,_.jsx)(O,{children:"active"===a?(0,_.jsx)(I.Z,{variant:"outlined",onClick:function(){var n=e._id;(0,K.It)(n,{active:!1}),c(n,{active:!1})},size:"small",children:"Hide"}):(0,_.jsx)(I.Z,{variant:"outlined",onClick:function(){var n=e._id;(0,K.It)(n,{active:!0}),c(n,{active:!0})},size:"small",children:"Show"})})]})},X=A.Z.div(f||(f=(0,z.Z)(["\n  display: flex;\n  gap: 10px;\n  justify-content: space-between;\n  align-items: center;\n"]))),Y=A.Z.div(g||(g=(0,z.Z)(["\n  background-color: rgba(255, 248, 220, 0.7);\n  padding: 10px;\n  border-radius: 5px;\n"]))),$=A.Z.div(v||(v=(0,z.Z)(["\n  text-align: center;\n  font-weight: 600;\n\n  background-color: rgba(255, 248, 220, 0.4);\n  padding: 5px;\n  border-radius: 5px;\n"]))),nn=A.Z.span(Z||(Z=(0,z.Z)(["\n  padding: 1px 3px;\n  color: #32cd32;\n  font-size: 18px;\n  font-weight: 700;\n  background-color: rgba(0, 0, 0);\n  border-radius: 5px;\n"]))),en=A.Z.div(j||(j=(0,z.Z)(["\n  padding-right: 100px;\n  display: flex;\n  gap: 20px;\n  flex-wrap: wrap;\n"]))),tn=function(n){var e=n.callsBtns,t=n.addRecord,r=n.callsRecords,a=n.updateBtnActiveStatus,c=(0,R.useState)("active"),i=(0,C.Z)(c,2),s=i[0],o=i[1],l=e.filter((function(n){return"active"===s?n.active:!n.active}));return(0,_.jsxs)(D,{children:[(0,_.jsxs)(X,{children:[(0,_.jsxs)($,{children:["\u0417\u0432\u043e\u043d\u043a\u0438 \u0432\u0441\u0435\u0433\u043e: ",(0,_.jsx)(nn,{children:r.length})]}),(0,_.jsx)(Y,{children:(0,_.jsxs)(H.Z,{sx:{minWidth:100},size:"small",children:[(0,_.jsx)(L.Z,{id:"category-type",children:"Type"}),(0,_.jsxs)(N.Z,{labelId:"category-type",id:"category-type",value:s,label:"Type",onChange:function(n){return o(n.target.value)},children:[(0,_.jsx)(E.Z,{value:"active",children:"Active"}),(0,_.jsx)(E.Z,{value:"hidden",children:"Hidden"})]})]})})]}),(0,_.jsx)(en,{children:l.map((function(n){var e=r.filter((function(e){return e.category.name===n.name})).length;return(0,_.jsx)(V,{info:n,addRecord:t,currentActionTotal:e,filter:s,updateBtnActiveStatus:a},n._id)}))})]})},rn=A.Z.div(b||(b=(0,z.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),an=A.Z.div(m||(m=(0,z.Z)(["\n  margin-bottom: 10px;\n\n  display: flex;\n  justify-content: center;\n"]))),cn=t(9836),sn=t(3382),on=t(3994),ln=t(9281),dn=t(6890),un=t(5855),pn=t(5527),xn=t(3400),hn=t(7247),fn=t(8258),gn=function(n){var e=n.actionRecords,t=n.deleteRecord,r=n.setActionRecords,a=(0,R.useState)((function(){return new Date})),c=(0,C.Z)(a,2),i=c[0],s=c[1],o=(0,w.Z)(e).reverse();(0,R.useEffect)((function(){(0,S.Z)((0,k.Z)().mark((function n(){var e;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,K.Q6)(i);case 3:e=n.sent,r(e.data.result),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[i,r]);return(0,_.jsxs)(D,{title:"Timeline",children:[(0,_.jsx)(an,{children:(0,_.jsx)(fn.M,{value:i,onChange:function(n){s(n)}})}),(0,_.jsx)(rn,{children:(0,_.jsx)(ln.Z,{component:pn.Z,sx:{maxWidth:650},children:(0,_.jsxs)(cn.Z,{"aria-label":"simple table",children:[(0,_.jsx)(dn.Z,{children:(0,_.jsxs)(un.Z,{sx:{bgcolor:"#4682B4"},children:[(0,_.jsx)(on.Z,{children:"Name"}),(0,_.jsx)(on.Z,{children:"Type"}),(0,_.jsx)(on.Z,{sx:{width:200},children:"Date"}),(0,_.jsx)(on.Z,{sx:{width:80},children:"Delete"})]})}),(0,_.jsx)(sn.Z,{children:o.map((function(n){var e=new Date(n.createdAt);return(0,_.jsxs)(un.Z,{sx:{"&:last-child td, &:last-child th":{border:0},"&:nth-of-type(even)":{bgcolor:"#F0F8FF"}},children:[(0,_.jsx)(on.Z,{children:n.category.name}),(0,_.jsx)(on.Z,{children:n.category.type}),(0,_.jsx)(on.Z,{children:e.toLocaleString()}),(0,_.jsx)(on.Z,{children:(0,_.jsx)(xn.Z,{"aria-label":"delete",onClick:function(){return t(n._id)},sx:{color:"#F08080"},children:(0,_.jsx)(hn.Z,{})})})]},n._id)}))})]})})})]})},vn=function(n){var e=n.messagesBtns,t=n.addRecord,r=n.messagesRecords,a=n.updateBtnActiveStatus,c=(0,R.useState)("active"),i=(0,C.Z)(c,2),s=i[0],o=i[1],l=e.filter((function(n){return"active"===s?n.active:!n.active}));return(0,_.jsxs)(D,{children:[(0,_.jsxs)(X,{children:[(0,_.jsxs)($,{children:["C\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0433\u043e: ",(0,_.jsx)(nn,{children:r.length})]}),(0,_.jsx)(Y,{children:(0,_.jsxs)(H.Z,{sx:{minWidth:100},size:"small",children:[(0,_.jsx)(L.Z,{id:"category-type",children:"Type"}),(0,_.jsxs)(N.Z,{labelId:"category-type",id:"category-type",value:s,label:"Type",onChange:function(n){return o(n.target.value)},children:[(0,_.jsx)(E.Z,{value:"active",children:"Active"}),(0,_.jsx)(E.Z,{value:"hidden",children:"Hidden"})]})]})})]}),(0,_.jsx)(en,{children:l.map((function(n){var e=r.filter((function(e){return e.category.name===n.name})).length;return(0,_.jsx)(V,{info:n,addRecord:t,currentActionTotal:e,filter:s,updateBtnActiveStatus:a},n._id)}))})]})},Zn=t(2092);function jn(n){var e=n.photo,t=(0,R.useState)([]),r=(0,C.Z)(t,2),a=r[0],c=r[1],i=(0,R.useState)([]),s=(0,C.Z)(i,2),o=s[0],l=s[1];(0,R.useEffect)((function(){(0,S.Z)((0,k.Z)().mark((function n(){var e,t;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,K.CP)();case 3:return e=n.sent,c(e.data.result),n.next=7,(0,K.Q6)();case 7:t=n.sent,l(t.data.result),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()}),[]);var d=function(){var n=(0,S.Z)((0,k.Z)().mark((function n(e){var t;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,K.i8)(e);case 3:t=n.sent,c((function(n){return[].concat((0,w.Z)(n),[t.data.result])})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),u=a.filter((function(n){return"calls"===n.type})),p=a.filter((function(n){return"messages"===n.type})),x=function(){var n=(0,S.Z)((0,k.Z)().mark((function n(e){var t;return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,K.xK)(e);case 3:t=n.sent,l((function(n){return[].concat((0,w.Z)(n),[t.data.result])})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),h=o.filter((function(n){return"calls"===n.category.type})),f=o.filter((function(n){return"messages"===n.category.type})),g=function(){var n=(0,S.Z)((0,k.Z)().mark((function n(e){return(0,k.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,K.JS)(e);case 3:l((function(n){return n.filter((function(n){return n._id!==e}))})),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),v=function(n,e){c((function(t){return t.map((function(t){return t._id===n?(0,y.Z)((0,y.Z)({},t),e):t}))}))};return(0,R.useEffect)((function(){!function n(){var e=(new Date).toLocaleString();console.log("\x1b[36m","".concat(e," \n\t\t\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440")),fetch("https://hr-statistics-ja95.onrender.com/api/records").then((function(n){var e=(new Date).toLocaleString();console.log("\x1b[32m","".concat(e," \n\t\t\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e"))})).catch((function(n){var e=(new Date).toLocaleString();console.log("\x1b[31m","".concat(e," \n\t\t\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0431\u044b\u043b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d"))})),setTimeout(n,84e4)}()}),[]),(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(Zn.p,{photo:e,children:(0,_.jsxs)(J.W,{children:[(0,_.jsx)(q,{addCategory:d}),(0,_.jsx)(tn,{callsBtns:u,addRecord:x,callsRecords:h,updateBtnActiveStatus:v}),(0,_.jsx)(vn,{messagesBtns:p,addRecord:x,messagesRecords:f,updateBtnActiveStatus:v})]})}),(0,_.jsx)(J.W,{children:(0,_.jsx)(gn,{actionRecords:o,deleteRecord:g,setActionRecords:l})})]})}}}]);
//# sourceMappingURL=808.83538226.chunk.js.map