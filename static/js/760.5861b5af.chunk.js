"use strict";(self.webpackChunkhr_statistics=self.webpackChunkhr_statistics||[]).push([[760],{7760:function(n,e,t){t.r(e),t.d(e,{default:function(){return mn}});var r,a,c,i,s,o,l,d,u,p,x,h,f,g,v,Z,j,b,m,y,w=t(1413),k=t(3433),S=t(4165),C=t(5861),R=t(9439),z=t(2791),A=t(168),T=t(225),B=T.Z.section(r||(r=(0,A.Z)(["\n  padding: 12px 0;\n\n  border-bottom: 1px solid #e6e6fa;\n"]))),_=T.Z.h2(a||(a=(0,A.Z)(["\n  text-align: center;\n  font-size: 20px;\n\n  margin: 0 auto 10px;\n  display: flex;\n  width: max-content;\n  background-color: rgba(255, 248, 220, 0.4);\n  padding: 5px;\n  border-radius: 5px;\n"]))),D=t(184),F=function(n){var e=n.children,t=n.title;return(0,D.jsxs)(B,{children:[t&&(0,D.jsx)(_,{children:t}),e]})},W=T.Z.div(c||(c=(0,A.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),I=T.Z.form(i||(i=(0,A.Z)(["\n  width: max-content;\n\n  display: flex;\n  justify-content: center;\n  gap: 10px;\n\n  background-color: rgba(255, 248, 220, 0.7);\n  padding: 10px;\n  border-radius: 5px;\n"]))),L=(T.Z.input(s||(s=(0,A.Z)(["\n  width: 150px;\n  padding: 7px;\n\n  border: 1px solid gray;\n  border-radius: 10px;\n"]))),T.Z.select(o||(o=(0,A.Z)(["\n  width: 130px;\n  padding: 7px;\n\n  border: 1px solid gray;\n  border-radius: 10px;\n\n  cursor: pointer;\n"]))),t(6151)),E=t(4925),H=t(9891),N=t(8096),Q=t(7198),q=t(7391),J=function(n){var e=n.addCategory,t=(0,z.useState)("messages"),r=(0,R.Z)(t,2),a=r[0],c=r[1],i=(0,z.useState)(""),s=(0,R.Z)(i,2),o=s[0],l=s[1],d=(0,z.useState)(""),u=(0,R.Z)(d,2),p=u[0],x=u[1];return(0,D.jsx)(F,{title:"\u0414\u043e\u0431\u0430\u0432\u043b\u0435\u043d\u0438\u0435",children:(0,D.jsx)(W,{children:(0,D.jsxs)(I,{children:[(0,D.jsxs)(N.Z,{sx:{minWidth:150},size:"small",children:[(0,D.jsx)(E.Z,{id:"category-type",children:"Type"}),(0,D.jsxs)(Q.Z,{labelId:"category-type",id:"category-type",value:a,label:"Type",onChange:function(n){return c(n.target.value)},children:[(0,D.jsx)(H.Z,{value:"messages",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"}),(0,D.jsx)(H.Z,{value:"calls",children:"\u0417\u0432\u043e\u043d\u043a\u0438"})]})]}),(0,D.jsx)(q.Z,{label:"\u041d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",variant:"outlined",value:o,onChange:function(n){l(n.target.value)},required:!0,size:"small"}),(0,D.jsx)(q.Z,{label:"\u041d\u043e\u043c\u0435\u0440 \u0442\u0435\u043b\u0435\u0444\u043e\u043d\u0430",variant:"outlined",value:p,onChange:function(n){x(n.target.value)},size:"small"}),(0,D.jsx)(L.Z,{variant:"contained",size:"small",onClick:function(n){n.preventDefault(),o&&e({type:a,name:o,phone:p||"No phone number"})},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c"})]})})})},K=t(5834),M=t(5600),P=T.Z.button(l||(l=(0,A.Z)(["\n  width: 100px;\n  height: 100px;\n\n  border-radius: 50%;\n\n  box-shadow: 0px 2px 7px 0px rgba(0, 0, 0, 0.75);\n  -webkit-box-shadow: 0px 2px 7px 0px rgba(0, 0, 0, 0.75);\n  -moz-box-shadow: 0px 2px 7px 0px rgba(0, 0, 0, 0.75);\n\n  background-color: rgba(255, 248, 220, 0.9);\n\n  transform: scale(1);\n  transition: transform 100ms ease-out, background-color 100ms ease-out;\n\n  &:hover,\n  &:focus {\n    background-color: #ffe4c4;\n    transform: scale(1.05);\n  }\n\n  &:active {\n    background-color: #deb887;\n    color: #fff;\n  }\n\n  &:disabled {\n    opacity: 0.7;\n    transform: scale(1);\n    background-color: #ffebcd;\n\n    cursor: not-allowed;\n  }\n"]))),G=T.Z.p(d||(d=(0,A.Z)(["\n  font-weight: 700;\n  font-size: 22px;\n"]))),O=T.Z.p(u||(u=(0,A.Z)(["\n  font-size: 14px;\n"]))),U=(T.Z.p(p||(p=(0,A.Z)(["\n  font-size: 12px;\n"]))),T.Z.div(x||(x=(0,A.Z)(["\n  display: flex;\n"])))),V=T.Z.div(h||(h=(0,A.Z)(["\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n\n  gap: 12px;\n"]))),X=function(n){var e=n.info,t=n.addRecord,r=n.currentActionTotal,a=n.filter,c=n.updateBtnActiveStatus;return(0,D.jsxs)(V,{children:[(0,D.jsxs)(P,{type:"button",onClick:function(){var n=e._id;t({category:n})},disabled:!e.active,children:[(0,D.jsx)(G,{children:r}),(0,D.jsx)(O,{children:e.name})]}),(0,D.jsx)(U,{children:"active"===a?(0,D.jsx)(L.Z,{variant:"outlined",onClick:function(){var n=e._id;(0,M.It)(n,{active:!1}),c(n,{active:!1})},size:"small",children:"Hide"}):(0,D.jsx)(L.Z,{variant:"outlined",onClick:function(){var n=e._id;(0,M.It)(n,{active:!0}),c(n,{active:!0})},size:"small",children:"Show"})})]})},Y=T.Z.div(f||(f=(0,A.Z)(["\n  display: flex;\n  gap: 10px;\n  justify-content: space-between;\n  align-items: center;\n"]))),$=T.Z.div(g||(g=(0,A.Z)(["\n  background-color: rgba(255, 248, 220, 0.7);\n  padding: 10px;\n  border-radius: 5px;\n"]))),nn=T.Z.div(v||(v=(0,A.Z)(["\n  text-align: center;\n  font-weight: 600;\n\n  background-color: rgba(255, 248, 220, 0.4);\n  padding: 5px;\n  border-radius: 5px;\n"]))),en=T.Z.span(Z||(Z=(0,A.Z)(["\n  padding: 1px 3px;\n  color: #32cd32;\n  font-size: 18px;\n  font-weight: 700;\n  background-color: rgba(0, 0, 0);\n  border-radius: 5px;\n"]))),tn=T.Z.div(j||(j=(0,A.Z)(["\n  padding-right: 100px;\n  display: flex;\n  gap: 20px;\n  flex-wrap: wrap;\n"]))),rn=function(n){var e=n.callsBtns,t=n.addRecord,r=n.callsRecords,a=n.updateBtnActiveStatus,c=(0,z.useState)("active"),i=(0,R.Z)(c,2),s=i[0],o=i[1],l=e.filter((function(n){return"active"===s?n.active:!n.active}));return(0,D.jsxs)(F,{children:[(0,D.jsxs)(Y,{children:[(0,D.jsxs)(nn,{children:["\u0417\u0432\u043e\u043d\u043a\u0438 \u0432\u0441\u0435\u0433\u043e: ",(0,D.jsx)(en,{children:r.length})]}),(0,D.jsx)($,{children:(0,D.jsxs)(N.Z,{sx:{minWidth:100},size:"small",children:[(0,D.jsx)(E.Z,{id:"category-type",children:"Type"}),(0,D.jsxs)(Q.Z,{labelId:"category-type",id:"category-type",value:s,label:"Type",onChange:function(n){return o(n.target.value)},children:[(0,D.jsx)(H.Z,{value:"active",children:"Active"}),(0,D.jsx)(H.Z,{value:"hidden",children:"Hidden"})]})]})})]}),(0,D.jsx)(tn,{children:l.map((function(n){var e=r.filter((function(e){return e.category.name===n.name})).length;return(0,D.jsx)(X,{info:n,addRecord:t,currentActionTotal:e,filter:s,updateBtnActiveStatus:a},n._id)}))})]})},an=T.Z.div(b||(b=(0,A.Z)(["\n  display: flex;\n  justify-content: center;\n"]))),cn=T.Z.div(m||(m=(0,A.Z)(["\n  margin-bottom: 10px;\n\n  display: flex;\n  justify-content: center;\n"]))),sn=t(9836),on=t(3382),ln=t(3994),dn=t(9281),un=t(6890),pn=t(5855),xn=t(5527),hn=t(3400),fn=t(7247),gn=t(8258),vn=function(n){var e=n.actionRecords,t=n.deleteRecord,r=n.setActionRecords,a=(0,z.useState)((function(){return new Date})),c=(0,R.Z)(a,2),i=c[0],s=c[1],o=(0,k.Z)(e).reverse();(0,z.useEffect)((function(){(0,C.Z)((0,S.Z)().mark((function n(){var e;return(0,S.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,M.Q6)(i);case 3:e=n.sent,r(e.data.result),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))()}),[i,r]);return(0,D.jsxs)(F,{title:"Timeline",children:[(0,D.jsx)(cn,{children:(0,D.jsx)(gn.M,{value:i,onChange:function(n){s(n)}})}),(0,D.jsx)(an,{children:(0,D.jsx)(dn.Z,{component:xn.Z,sx:{maxWidth:650},children:(0,D.jsxs)(sn.Z,{"aria-label":"simple table",children:[(0,D.jsx)(un.Z,{children:(0,D.jsxs)(pn.Z,{sx:{bgcolor:"#4682B4"},children:[(0,D.jsx)(ln.Z,{children:"Name"}),(0,D.jsx)(ln.Z,{children:"Type"}),(0,D.jsx)(ln.Z,{sx:{width:200},children:"Date"}),(0,D.jsx)(ln.Z,{sx:{width:80},children:"Delete"})]})}),(0,D.jsx)(on.Z,{children:o.map((function(n){var e=new Date(n.createdAt);return(0,D.jsxs)(pn.Z,{sx:{"&:last-child td, &:last-child th":{border:0},"&:nth-of-type(even)":{bgcolor:"#F0F8FF"}},children:[(0,D.jsx)(ln.Z,{children:n.category.name}),(0,D.jsx)(ln.Z,{children:n.category.type}),(0,D.jsx)(ln.Z,{children:e.toLocaleString()}),(0,D.jsx)(ln.Z,{children:(0,D.jsx)(hn.Z,{"aria-label":"delete",onClick:function(){return t(n._id)},sx:{color:"#F08080"},children:(0,D.jsx)(fn.Z,{})})})]},n._id)}))})]})})})]})},Zn=function(n){var e=n.messagesBtns,t=n.addRecord,r=n.messagesRecords,a=n.updateBtnActiveStatus,c=(0,z.useState)("active"),i=(0,R.Z)(c,2),s=i[0],o=i[1],l=e.filter((function(n){return"active"===s?n.active:!n.active}));return(0,D.jsxs)(F,{children:[(0,D.jsxs)(Y,{children:[(0,D.jsxs)(nn,{children:["C\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f \u0432\u0441\u0435\u0433\u043e: ",(0,D.jsx)(en,{children:r.length})]}),(0,D.jsx)($,{children:(0,D.jsxs)(N.Z,{sx:{minWidth:100},size:"small",children:[(0,D.jsx)(E.Z,{id:"category-type",children:"Type"}),(0,D.jsxs)(Q.Z,{labelId:"category-type",id:"category-type",value:s,label:"Type",onChange:function(n){return o(n.target.value)},children:[(0,D.jsx)(H.Z,{value:"active",children:"Active"}),(0,D.jsx)(H.Z,{value:"hidden",children:"Hidden"})]})]})})]}),(0,D.jsx)(tn,{children:l.map((function(n){var e=r.filter((function(e){return e.category.name===n.name})).length;return(0,D.jsx)(X,{info:n,addRecord:t,currentActionTotal:e,filter:s,updateBtnActiveStatus:a},n._id)}))})]})},jn=T.Z.div(y||(y=(0,A.Z)(["\n  min-height: 100vh;\n  padding-top: 80px;\n\n  background: linear-gradient(to right, rgba(23, 34, 152, 0.1), rgba(23, 34, 152, 0.1)),\n    url(",");\n\n  background-size: cover;\n  background-position: center;\n  background-repeat: no-repeat;\n"])),(function(n){return n.photo})),bn=function(n){var e=n.children,t=n.photo;return(0,D.jsx)(jn,{photo:t,children:e})};function mn(n){var e=n.photo,t=(0,z.useState)([]),r=(0,R.Z)(t,2),a=r[0],c=r[1],i=(0,z.useState)([]),s=(0,R.Z)(i,2),o=s[0],l=s[1];(0,z.useEffect)((function(){(0,C.Z)((0,S.Z)().mark((function n(){var e,t;return(0,S.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,M.CP)();case 3:return e=n.sent,c(e.data.result),n.next=7,(0,M.Q6)();case 7:t=n.sent,l(t.data.result),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})))()}),[]);var d=function(){var n=(0,C.Z)((0,S.Z)().mark((function n(e){var t;return(0,S.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,M.i8)(e);case 3:t=n.sent,c((function(n){return[].concat((0,k.Z)(n),[t.data.result])})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),u=a.filter((function(n){return"calls"===n.type})),p=a.filter((function(n){return"messages"===n.type})),x=function(){var n=(0,C.Z)((0,S.Z)().mark((function n(e){var t;return(0,S.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,M.xK)(e);case 3:t=n.sent,l((function(n){return[].concat((0,k.Z)(n),[t.data.result])})),n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})));return function(e){return n.apply(this,arguments)}}(),h=o.filter((function(n){return"calls"===n.category.type})),f=o.filter((function(n){return"messages"===n.category.type})),g=function(){var n=(0,C.Z)((0,S.Z)().mark((function n(e){return(0,S.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,(0,M.JS)(e);case 3:l((function(n){return n.filter((function(n){return n._id!==e}))})),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.log(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(e){return n.apply(this,arguments)}}(),v=function(n,e){c((function(t){return t.map((function(t){return t._id===n?(0,w.Z)((0,w.Z)({},t),e):t}))}))};return(0,z.useEffect)((function(){return function n(){var e=(new Date).toLocaleString();console.log("\x1b[36m","".concat(e," \n\t\t\u041e\u0442\u043f\u0440\u0430\u0432\u043b\u044f\u044e \u0437\u0430\u043f\u0440\u043e\u0441 \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440")),fetch("https://hr-statistics-ja95.onrender.com/api/records").then((function(n){var e=(new Date).toLocaleString();console.log("\x1b[32m","".concat(e," \n\t\t\u0417\u0430\u043f\u0440\u043e\u0441 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e"))})).catch((function(n){var e=(new Date).toLocaleString();console.log("\x1b[31m","".concat(e," \n\t\t\u0417\u0430\u043f\u0440\u043e\u0441 \u043d\u0435 \u0431\u044b\u043b \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d"))})),setTimeout(n,84e4)}(),function(){console.log("\u0442\u0443\u0442 \u043d\u0430\u0434\u043e \u0431\u0443\u0434\u0435\u0442 \u043e\u0447\u0438\u0449\u0430\u0442\u044c setTimeout")}}),[]),(0,D.jsxs)(D.Fragment,{children:[(0,D.jsx)(bn,{photo:e,children:(0,D.jsxs)(K.W,{children:[(0,D.jsx)(J,{addCategory:d}),(0,D.jsx)(rn,{callsBtns:u,addRecord:x,callsRecords:h,updateBtnActiveStatus:v}),(0,D.jsx)(Zn,{messagesBtns:p,addRecord:x,messagesRecords:f,updateBtnActiveStatus:v})]})}),(0,D.jsx)(K.W,{children:(0,D.jsx)(vn,{actionRecords:o,deleteRecord:g,setActionRecords:l})})]})}}}]);
//# sourceMappingURL=760.5861b5af.chunk.js.map